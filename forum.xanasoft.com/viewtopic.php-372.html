<!DOCTYPE html>
<html dir="ltr" lang="en-gb">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Is it possible to encrypt the drive first, then install Windows 7 - xanasoft.com</title>

	<link rel="alternate" type="application/atom+xml" title="Feed - xanasoft.com" href="/feed">			<link rel="alternate" type="application/atom+xml" title="Feed - New Topics" href="/feed/topics">		<link rel="alternate" type="application/atom+xml" title="Feed - Forum - Discussions" href="/feed/forum/17">	<link rel="alternate" type="application/atom+xml" title="Feed - Topic - Is it possible to encrypt the drive first, then install Windows 7" href="/feed/topic/581">	
	<link rel="canonical" href="viewtopic.php-1753.html?t=581">

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:
-->

<link href="assets/css/font-awesome.min.css?assets_version=3" rel="stylesheet">
<link href="styles/prosilver/theme/stylesheet.css?assets_version=3" rel="stylesheet">
<link href="styles/prosilver/theme/en/stylesheet.css?assets_version=3" rel="stylesheet">




<!--[if lte IE 9]>
	<link href="./styles/prosilver/theme/tweaks.css?assets_version=3" rel="stylesheet">
<![endif]-->





</head>
<body id="phpbb" class="nojs notouch section-viewtopic ltr ">


<div id="wrap" class="wrap">
	<a id="top" class="top-anchor" accesskey="t"></a>
	<div id="page-header">
		<div class="headerbar" role="banner">
					<div class="inner">

			<div id="site-description" class="site-description">
		<a id="logo" class="logo" href="index.php.html" title="Board index">
					<span class="site_logo"></span>
				</a>
				<h1>xanasoft.com</h1>
				<p>Xanasoft support forum</p>
				<p class="skiplink"><a href="#start_here">Skip to content</a></p>
			</div>

									<div id="search-box" class="search-box search-header" role="search">
				<form action="./search.php" method="get" id="search">
				<fieldset>
					<input name="keywords" id="keywords" type="search" maxlength="128" title="Search for keywords" class="inputbox search tiny" size="20" value="" placeholder="Search…">
					<button class="button button-search" type="submit" title="Search">
						<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
					</button>
					<a href="search.php.html" class="button button-search-end" title="Advanced search">
						<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
					</a>
					
				</fieldset>
				</form>
			</div>
						
			</div>
					</div>
				<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-main" class="nav-main linklist" role="menubar">

		<li id="quick-links" class="quick-links dropdown-container responsive-menu" data-skip-responsive="true">
			<a href="#" class="dropdown-trigger">
				<i class="icon fa-bars fa-fw" aria-hidden="true"></i><span>Quick links</span>
			</a>
			<div class="dropdown">
				<div class="pointer"><div class="pointer-inner"></div></div>
				<ul class="dropdown-contents" role="menu">
					
											<li class="separator"></li>
																									<li>
								<a href="search.php-1.html?search_id=unanswered" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-gray" aria-hidden="true"></i><span>Unanswered topics</span>
								</a>
							</li>
							<li>
								<a href="search.php-2.html?search_id=active_topics" role="menuitem">
									<i class="icon fa-file-o fa-fw icon-blue" aria-hidden="true"></i><span>Active topics</span>
								</a>
							</li>
							<li class="separator"></li>
							<li>
								<a href="search.php.html" role="menuitem">
									<i class="icon fa-search fa-fw" aria-hidden="true"></i><span>Search</span>
								</a>
							</li>
					
										<li class="separator"></li>

									</ul>
			</div>
		</li>

				<li data-skip-responsive="true">
			<a href="/help/faq" rel="help" title="Frequently Asked Questions" role="menuitem">
				<i class="icon fa-question-circle fa-fw" aria-hidden="true"></i><span>FAQ</span>
			</a>
		</li>
						
			<li class="rightside" data-skip-responsive="true">
			<a href="ucp.php-627.html?mode=login&amp;redirect=viewtopic.php%3Ff%3D17%26t%3D581" title="Login" accesskey="x" role="menuitem">
				<i class="icon fa-power-off fa-fw" aria-hidden="true"></i><span>Login</span>
			</a>
		</li>
					<li class="rightside" data-skip-responsive="true">
				<a href="ucp.php-1.html?mode=register" role="menuitem">
					<i class="icon fa-pencil-square-o  fa-fw" aria-hidden="true"></i><span>Register</span>
				</a>
			</li>
						</ul>

	<ul id="nav-breadcrumbs" class="nav-breadcrumbs linklist navlinks" role="menubar">
								<li class="breadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList">
										<span class="crumb" itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope=""><a href="index.php.html" itemtype="https://schema.org/Thing" itemscope="" itemprop="item" accesskey="h" data-navbar-reference="index"><i class="icon fa-home fa-fw"></i><span itemprop="name">Board index</span></a><meta itemprop="position" content="1"></span>

																			<span class="crumb" itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope="" data-forum-id="5"><a href="viewforum.php-16.html?f=5" itemtype="https://schema.org/Thing" itemscope="" itemprop="item"><span itemprop="name">DiskCryptor</span></a><meta itemprop="position" content="2"></span>
																							<span class="crumb" itemtype="http://schema.org/ListItem" itemprop="itemListElement" itemscope="" data-forum-id="17"><a href="viewforum.php-17.html?f=17" itemtype="https://schema.org/Thing" itemscope="" itemprop="item"><span itemprop="name">Discussions</span></a><meta itemprop="position" content="3"></span>
												</li>
		
					<li class="rightside responsive-search">
				<a href="search.php.html" title="View the advanced search options" role="menuitem">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</a>
			</li>
			</ul>

	</div>
</div>
	</div>

	
	<a id="start_here" class="anchor"></a>
	<div id="page-body" class="page-body" role="main">
		
		
<h2 class="topic-title"><a href="viewtopic.php-372.html?f=17&amp;t=581">Is it possible to encrypt the drive first, then install Windows 7</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->



<div class="action-bar bar-top">
	
			<a href="posting.php-644.html?mode=reply&amp;f=17&amp;t=581" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
	
			<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic.php-1754.html?f=17&amp;t=581&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>
	
			<div class="search-box" role="search">
			<form method="get" id="topic-search" action="./search.php">
			<fieldset>
				<input class="inputbox search tiny" type="search" name="keywords" id="search_keywords" size="20" placeholder="Search this topic…">
				<button class="button button-search" type="submit" title="Search">
					<i class="icon fa-search fa-fw" aria-hidden="true"></i><span class="sr-only">Search</span>
				</button>
				<a href="search.php.html" class="button button-search-end" title="Advanced search">
					<i class="icon fa-cog fa-fw" aria-hidden="true"></i><span class="sr-only">Advanced search</span>
				</a>
				<input type="hidden" name="t" value="581">
<input type="hidden" name="sf" value="msgonly">

			</fieldset>
			</form>
		</div>
	
			<div class="pagination">
			5 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
		</div>




			<div id="p1181" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile1181">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist.php-121.html?mode=viewprofile&amp;u=1089" class="username">RadarNyan</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search.php-150.html?author_id=1089&amp;sr=posts">3</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue May 09, 2023 5:38 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content1181">

						<h3 class="first"><a href="viewtopic.php-1755.html?p=1181#p1181">Is it possible to encrypt the drive first, then install Windows 7</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting.php-645.html?mode=quote&amp;f=17&amp;p=1181" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic.php-1755.html?p=1181#p1181" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist.php-121.html?mode=viewprofile&amp;u=1089" class="username">RadarNyan</a></strong> &raquo; </span><time datetime="2023-05-09T18:10:29+00:00">Tue May 09, 2023 6:10 pm</time>
			</p>
			
			
			
			<div class="content">With the help of waybackmachine, I was able to get some information from old diskcryptor website:<br>
<a href="http://web.archive.org/web/20191010101941/https://diskcryptor.net/wiki/LiveCD" class="postlink">http://web.archive.org/web/201910101019 ... iki/LiveCD</a><br>
<a href="http://web.archive.org/web/20130817085258/http://diskcryptor.net/forum/index.php?topic=2290.0" class="postlink">http://web.archive.org/web/201308170852 ... pic=2290.0</a><br>
<br>
I was able to integrate diskcryptor into the Windows 7 installation media (a USB drive created with Rufus from original MSDN iso)<br>
I've integrated diskcryptor to both boot.wim and install.wim following the instructions in pages above (note: the wiki page has some errors. In the spoiler titled "4.1. This step is not required for DiskCryptor ver 1.0 and above." this is false, only dc_fsf.sys related items are deprecated, registry editing is still needed.) <br>
<br>
I managed to launch diskcryptor from the installer (Shift+F10 brings up command prompt, from where I can launch diskcryptor) and format the system partition, mount it, then install Windows 7 to the mounted partition. However after reboot all I got is a "Missing operating system" message.<br>
<br>
This is "normal" as I haven't installed the diskcryptor bootloader, however no matter I try to install it to the MBR of the hard drive, or using an iso loader, all I can get is the "enter password:" message indicating the bootloader is working. As soon as I enter the correct password, the VM just crashes with the following message:<br>

<blockquote class="uncited"><div>A fault has occurred causing a virtual CPU to enter the shutdown state. If this fault had occurred outside of a virtual machine, it would have caused the physical machine to restart. The shutdown state can be reached by incorrectly configuring the virtual machine, a bug in the guest operating system, or a problem in VMware Player.<br>
<br>
Click OK to restart the virtual machine or Cancel to power off the virtual machine.</div></blockquote>
(PS: I used plop boot manager to make vmware boot from USB as it doesn't support that natively)<br>
<br>
I can confirm the Windows 7 is installed in an encrypted state by mounting the virtual hard disk into another VM and mount it with diskcryptor, and the diskcryptor related files and registry entries are present in the disk.<br>
<br>
<strong class="text-strong">So, is what I'm trying to achieve possible at all? Or is the post-install stage just isn't compatible with encryption what-so-ever?</strong><br>
<br>
I'm not looking for alternatives, I know I can encrypt a running OS (which is what I currently have) and I have successfully tested that it is possible to encrypt the system partition offline using the USB drive I created above after Windows 7 finishes installation and reaches desktop.</div>

			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider">
				<div id="p1182" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile1182">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlist.php-8.html?mode=viewprofile&amp;u=49" class="avatar"><img class="avatar" src="download/file-1.php?avatar=49_1641977773.jpg" width="90" height="90" alt="User avatar"></a>														</div>
								<a href="memberlist.php-8.html?mode=viewprofile&amp;u=49" class="username">DavidXanatos</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search.php-8.html?author_id=49&amp;sr=posts">339</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Mar 19, 2021 11:26 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content1182">

						<h3><a href="viewtopic.php-1756.html?p=1182#p1182">Re: Is it possible to encrypt the drive first, then install Windows 7</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting.php-646.html?mode=quote&amp;f=17&amp;p=1182" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic.php-1756.html?p=1182#p1182" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist.php-8.html?mode=viewprofile&amp;u=49" class="username">DavidXanatos</a></strong> &raquo; </span><time datetime="2023-05-10T07:09:13+00:00">Wed May 10, 2023 7:09 am</time>
			</p>
			
			
			
			<div class="content">I think it might be an issue with the MBR bootloader perhaps it fails to properly invoke the windows bootloader.<br>
If it would be an issue with windows i would expect to see at least the windows boot logo.<br>
Have you tried to re installing the bootloader to the volume after instalation finished form an other session of your live boot medium?</div>

			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider">
				<div id="p1186" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile1186">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist.php-121.html?mode=viewprofile&amp;u=1089" class="username">RadarNyan</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search.php-150.html?author_id=1089&amp;sr=posts">3</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue May 09, 2023 5:38 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content1186">

						<h3><a href="viewtopic.php-1757.html?p=1186#p1186">Re: Is it possible to encrypt the drive first, then install Windows 7</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting.php-647.html?mode=quote&amp;f=17&amp;p=1186" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic.php-1757.html?p=1186#p1186" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist.php-121.html?mode=viewprofile&amp;u=1089" class="username">RadarNyan</a></strong> &raquo; </span><time datetime="2023-05-10T13:33:04+00:00">Wed May 10, 2023 1:33 pm</time>
			</p>
			
			
			
			<div class="content">I've done more tests with no success.<br>
<br>
1. I recreated the USB installation media from scratch.<br>
<br>
2. I grabbed an old HDD and disconnected every other drives on my desktop PC and tried to repeat what I did in VMware to rule out the possibility of something funky happening with VMware or Plop Boot Manager - same behavior observed as VMware warned me about: my PC reboots upon inputting the correct password.<br>
<br>
3. I tried to install DiskCryptor bootloader to the hard drive that contains the half-installed encrypted OS, doesn't work. I also tried to connect my old drive (which is encrypted with DiskCryptor after installing OS) and used bootloader on this drive to boot the half-installed one (bootloader was set to "First partition with appropriate password") and observed the same behavior (reboot upon entering password)<br>
<br>
I have no idea why would my PC reboot (VMware states that it's because CPU entered shutdown state), all the DiskCryptor bootloaders are configured to "Retry authentication" as Invalid password action, not "Halt System / Reboot System".<br>
<br>
Below is what the half-installed drive look like when mounted with DiskCryptor in a working OS, I'm not sure if the Windows Installer is able to load the DiskCryptor drivers in this state.<br>

<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code> Volume in drive F has no label.
 Volume Serial Number is 8CB9-03B7

 Directory of F:\

2010/11/21  11:51    &lt;DIR&gt;          $Recycle.Bin
2023/05/11  14:45    &lt;DIR&gt;          $WINDOWS.~BT
2023/05/11  14:52    &lt;DIR&gt;          $WINDOWS.~LS
2023/05/10  23:09             1,024 AMTAG.BIN
2023/05/10  23:07    &lt;DIR&gt;          Boot
2023/05/10  21:30           399,860 bootmgr
2023/05/11  14:52             8,192 BOOTSECT.BAK
2009/07/14  14:08    &lt;JUNCTION&gt;     Documents and Settings [C:\Users]
2009/07/14  12:20    &lt;DIR&gt;          PerfLogs
2023/05/10  21:25    &lt;DIR&gt;          Program Files
2009/07/14  13:57    &lt;DIR&gt;          Program Files (x86)
2009/07/14  14:08    &lt;DIR&gt;          ProgramData
2023/05/11  14:54    &lt;DIR&gt;          System Volume Information
2010/11/21  11:50    &lt;DIR&gt;          Users
2023/05/11  14:52    &lt;DIR&gt;          Windows
2023/05/11  14:45       536,870,912 WinPEpge.sys
               4 File(s)    537,279,988 bytes
              12 Dir(s)  151,673,589,760 bytes free
</code></pre></div>

Also, I've confirmed that the half-installed partition is marked as Active, and it is the only partition on the drive.</div>

			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider">
				<div id="p1187" class="post has-profile bg1">
		<div class="inner">

		<dl class="postprofile" id="profile1187">
			<dt class="no-profile-rank no-avatar">
				<div class="avatar-container">
																			</div>
								<a href="memberlist.php-121.html?mode=viewprofile&amp;u=1089" class="username">RadarNyan</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search.php-150.html?author_id=1089&amp;sr=posts">3</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Tue May 09, 2023 5:38 pm</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content1187">

						<h3><a href="viewtopic.php-1758.html?p=1187#p1187">Re: Is it possible to encrypt the drive first, then install Windows 7</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting.php-648.html?mode=quote&amp;f=17&amp;p=1187" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic.php-1758.html?p=1187#p1187" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist.php-121.html?mode=viewprofile&amp;u=1089" class="username">RadarNyan</a></strong> &raquo; </span><time datetime="2023-05-11T01:18:14+00:00">Thu May 11, 2023 1:18 am</time>
			</p>
			
			
			
			<div class="content">I managed to get it to work, the key is: I need to install Windows 7 to a partition <strong class="text-strong">encrypted</strong> with DiskCryptor, not <strong class="text-strong">formatted</strong>.<br>
<br>
1. Boot with modified Windows 7 installation media (dcrypt driver and registry added to boot.wim and install.wim)<br>
<br>
2. Open Command Prompt (Shift+F10) and run DiskPart, manually create a small (100 MB) partition, and format it:
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>DISKPART&gt;
selecte disk 0
clean
create partition primary size=100
format fs=ntfs quick
</code></pre></div>
Note: NTFS MFT reserved space size is determined by the initial size, having it too small could be a problem, see below.<br>
<br>
3. Exit DiskPart, start dcrypt.exe and <strong class="text-strong">encrypt</strong> the partition just created. <span style="color:#FF0000">Format with DiskCryptor will NOT work.</span><br>
<br>
4. Continue with Windows 7 install, expand the small partition to desired size when selecting install location.<br>
<br>
Of course, it is possible to create a large partition in the beginning, so there's no need for expanding later, but that would take more time to encrypt, which is why I originally wanted to use format instead (which is much faster, and can be instant if I don't care about empty spaces and use the quick format option).<br>
<br>
5. Windows Installer will reboot automatically in the end, the system will not boot since there's no DiskCryptor bootloader installed.<br>
<br>
This can be fixed by either using a DiskCryptor bootloader on USB / CD or boot with the modified install media again and run dcrypt.exe from there to install bootloader to MBR.<br>
<br>
6. After the bootloader issue is resolved, Windows installation will continue as normal.<br>
<br>
----------<br>
<br>
From what I've read (<a href="https://diskcryptor.org/volume/" class="postlink">https://diskcryptor.org/volume/</a>), the only difference between a partition encrypted with DiskCryptor and formatted with it is where the first 2048 bytes of the partition are stored, <span style="color:#0000FF"><strong class="text-strong">I guess there's just no support for relocation area at the end of volume (formatted instead of encrypted) on boot?</strong></span><br>
<br>
----------<br>
<br>
According to <a href="https://diskcryptor.org/faq/" class="postlink">https://diskcryptor.org/faq/</a> :
<blockquote class="uncited"><div>Is it safe to resize encrypted partitions?<br>
When the partition is mounted it can be resized with native windows facilities like diskmgmt.msc or diskpart.exe, compatybility with 3rd party tools has not been tested so I can only advize against it.</div></blockquote>
So I assume my operation above (create a small partition, encrypt it, then expand) is safe, however what impact would this have comparing to creating a large partition in the beginning? (will NTFS MFT reserved space be too small?)<br>
<br>
EDIT: Yes, the above procedure will affect the size of NTFS MFT reserved space ("MFT Zone") size.<br>
<br>
1. Create a 100 MB partition, format with NTFS, then expand to 100 GB (102401 MB)
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>MFT Information
---------------
MFT size               : 0 MB (0% of drive)
MFT start cluster      : 8533
MFT zone clusters      : 8512 - 11744
MFT zone size          : 12 MB (0% of drive)
MFT mirror start       : 2</code></pre></div>
2. Create a 100 GB (102401 MB) partition, format with NTFS
<div class="codebox"><p>Code: <a href="#" onclick="selectCode(this); return false;">Select all</a></p><pre><code>MFT Information
---------------
MFT size               : 0 MB (0% of drive)
MFT start cluster      : 786432
MFT zone clusters      : 786432 - 837664
MFT zone size          : 200 MB (0% of drive)
MFT mirror start       : 2</code></pre></div>
This might lead to MFT fragmentation.<br>
<br>
PS: there are some spelling mistakes on the FAQ page, for instance: compatybility (compatibility) and advize (advise), left over from the original site?<br>
<br>
I understand that not filling the empty space with random data could compromise the plausible deniability, but I don't really care about that. All I want is my data isn't accessible without the password (say, when I send the SSD in for RMA), and I have TRIM enabled anyway, which if I understand correctly could result in "empty" spaces on the drive, correct?</div>

			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider">
				<div id="p1192" class="post has-profile bg2">
		<div class="inner">

		<dl class="postprofile" id="profile1192">
			<dt class="no-profile-rank has-avatar">
				<div class="avatar-container">
																<a href="memberlist.php-8.html?mode=viewprofile&amp;u=49" class="avatar"><img class="avatar" src="download/file-1.php?avatar=49_1641977773.jpg" width="90" height="90" alt="User avatar"></a>														</div>
								<a href="memberlist.php-8.html?mode=viewprofile&amp;u=49" class="username">DavidXanatos</a>							</dt>

									
		<dd class="profile-posts"><strong>Posts:</strong> <a href="search.php-8.html?author_id=49&amp;sr=posts">339</a></dd>		<dd class="profile-joined"><strong>Joined:</strong> Fri Mar 19, 2021 11:26 am</dd>		
		
						
						
		</dl>

		<div class="postbody">
						<div id="post_content1192">

						<h3><a href="viewtopic.php-1759.html?p=1192#p1192">Re: Is it possible to encrypt the drive first, then install Windows 7</a></h3>

													<ul class="post-buttons">
																																									<li>
							<a href="posting.php-649.html?mode=quote&amp;f=17&amp;p=1192" title="Reply with quote" class="button button-icon-only">
								<i class="icon fa-quote-left fa-fw" aria-hidden="true"></i><span class="sr-only">Quote</span>
							</a>
						</li>
														</ul>
							
						<p class="author">
									<a class="unread" href="viewtopic.php-1759.html?p=1192#p1192" title="Post">
						<i class="icon fa-file fa-fw icon-lightgray icon-md" aria-hidden="true"></i><span class="sr-only">Post</span>
					</a>
								<span class="responsive-hide">by <strong><a href="memberlist.php-8.html?mode=viewprofile&amp;u=49" class="username">DavidXanatos</a></strong> &raquo; </span><time datetime="2023-05-15T16:55:55+00:00">Mon May 15, 2023 4:55 pm</time>
			</p>
			
			
			
			<div class="content">Hmm... yea it makes sense that the format with DC option wold cause issues when doing something that may resize the partition.<br>
And the windows installer will shrink it to make space for the recovery partition.<br>
<br>
I normally don't use this option at all, to avoid such issues, when creating a new partition, I create an empty one of the required size, once its NTFS formatted, I shrink it to almost 0 then I encrypt it and then i expand it back to the original size. <br>
This way I get my NTFS set up to the target size and avoid torturing my SSD's with encrypting empty space.<br>
<br>
With regard to plausible deniability, nowadays with trim that's pretty much useless, also for most applications its enough to ensure the data can't be accessed without PW.</div>

			
			
									
									
						</div>

		</div>

				<div class="back2top">
						<a href="#top" class="top" title="Top">
				<i class="icon fa-chevron-circle-up fa-fw icon-gray" aria-hidden="true"></i>
				<span class="sr-only">Top</span>
			</a>
					</div>
		
		</div>
	</div>

	<hr class="divider">
	

	<div class="action-bar bar-bottom">
	
			<a href="posting.php-644.html?mode=reply&amp;f=17&amp;t=581" class="button" title="Post a reply">
							<span>Post Reply</span> <i class="icon fa-reply fa-fw" aria-hidden="true"></i>
					</a>
		
		<div class="dropdown-container dropdown-button-control topic-tools">
		<span title="Topic tools" class="button button-secondary dropdown-trigger dropdown-select">
			<i class="icon fa-wrench fa-fw" aria-hidden="true"></i>
			<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
		</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																												<li>
					<a href="viewtopic.php-1754.html?f=17&amp;t=581&amp;view=print" title="Print view" accesskey="p">
						<i class="icon fa-print fa-fw" aria-hidden="true"></i><span>Print view</span>
					</a>
				</li>
											</ul>
		</div>
	</div>

			<form method="post" action="./viewtopic.php?f=17&amp;t=581">
		<div class="dropdown-container dropdown-container-left dropdown-button-control sort-tools">
	<span title="Display and sorting options" class="button button-secondary dropdown-trigger dropdown-select">
		<i class="icon fa-sort-amount-asc fa-fw" aria-hidden="true"></i>
		<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
	</span>
	<div class="dropdown hidden">
		<div class="pointer"><div class="pointer-inner"></div></div>
		<div class="dropdown-contents">
			<fieldset class="display-options">
							<label>Display: <select name="st" id="st"><option value="0" selected="selected">All posts</option><option value="1">1 day</option><option value="7">7 days</option><option value="14">2 weeks</option><option value="30">1 month</option><option value="90">3 months</option><option value="180">6 months</option><option value="365">1 year</option></select></label>
								<label>Sort by: <select name="sk" id="sk"><option value="a">Author</option><option value="t" selected="selected">Post time</option><option value="s">Subject</option></select></label>
				<label>Direction: <select name="sd" id="sd"><option value="a" selected="selected">Ascending</option><option value="d">Descending</option></select></label>
								<hr class="dashed">
				<input type="submit" class="button2" name="sort" value="Go">
						</fieldset>
		</div>
	</div>
</div>
		</form>
	
	
	
			<div class="pagination">
			5 posts
							&bull; Page <strong>1</strong> of <strong>1</strong>
					</div>
	</div>


<div class="action-bar actions-jump">
		<p class="jumpbox-return">
		<a href="viewforum.php-17.html?f=17" class="left-box arrow-left" accesskey="r">
			<i class="icon fa-angle-left fa-fw icon-black" aria-hidden="true"></i><span>Return to “Discussions”</span>
		</a>
	</p>
	
		<div class="jumpbox dropdown-container dropdown-container-right dropdown-up dropdown-left dropdown-button-control" id="jumpbox">
			<span title="Jump to" class="button button-secondary dropdown-trigger dropdown-select">
				<span>Jump to</span>
				<span class="caret"><i class="icon fa-sort-down fa-fw" aria-hidden="true"></i></span>
			</span>
		<div class="dropdown">
			<div class="pointer"><div class="pointer-inner"></div></div>
			<ul class="dropdown-contents">
																				<li><a href="viewforum.php.html?f=1" class="jumpbox-cat-link"> <span> General</span></a></li>
																<li><a href="viewforum.php-1.html?f=27" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Announcements</span></a></li>
																<li><a href="viewforum.php-2.html?f=28" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Forum Discussion</span></a></li>
																<li><a href="viewforum.php-3.html?f=2" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Off-Topic</span></a></li>
																<li><a href="viewforum.php-4.html?f=4" class="jumpbox-cat-link"> <span> Sandboxie+</span></a></li>
																<li><a href="viewforum.php-5.html?f=12" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Discussions</span></a></li>
																<li><a href="viewforum.php-6.html?f=13" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="viewforum.php-7.html?f=14" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="viewforum.php-8.html?f=15" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Feature Requests</span></a></li>
																<li><a href="viewforum.php-9.html?f=16" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Bug Reports</span></a></li>
																<li><a href="viewforum.php-10.html?f=3" class="jumpbox-cat-link"> <span> TaskExplorer</span></a></li>
																<li><a href="viewforum.php-11.html?f=7" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Discussions</span></a></li>
																<li><a href="viewforum.php-12.html?f=8" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="viewforum.php-13.html?f=9" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="viewforum.php-14.html?f=10" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Feature Requests</span></a></li>
																<li><a href="viewforum.php-15.html?f=11" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Bug Reports</span></a></li>
																<li><a href="viewforum.php-16.html?f=5" class="jumpbox-cat-link"> <span> DiskCryptor</span></a></li>
																<li><a href="viewforum.php-17.html?f=17" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Discussions</span></a></li>
																<li><a href="viewforum.php-18.html?f=18" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="viewforum.php-19.html?f=19" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="viewforum.php-20.html?f=20" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Feature Requests</span></a></li>
																<li><a href="viewforum.php-21.html?f=21" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Bug Reports</span></a></li>
																<li><a href="viewforum.php-22.html?f=6" class="jumpbox-cat-link"> <span> PrivateWin10</span></a></li>
																<li><a href="viewforum.php-23.html?f=22" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Discussions</span></a></li>
																<li><a href="viewforum.php-24.html?f=23" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Tutorials</span></a></li>
																<li><a href="viewforum.php-25.html?f=24" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Troubleshooting</span></a></li>
																<li><a href="viewforum.php-26.html?f=25" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Feature Requests</span></a></li>
																<li><a href="viewforum.php-27.html?f=26" class="jumpbox-sub-link"><span class="spacer"></span> <span>&#8627; &nbsp; Bug Reports</span></a></li>
											</ul>
		</div>
	</div>

	</div>


			</div>


<div id="page-footer" class="page-footer" role="contentinfo">
	<div class="navbar" role="navigation">
	<div class="inner">

	<ul id="nav-footer" class="nav-footer linklist" role="menubar">
		<li class="breadcrumbs">
									<span class="crumb"><a href="index.php.html" data-navbar-reference="index"><i class="icon fa-home fa-fw" aria-hidden="true"></i><span>Board index</span></a></span>					</li>
		
				<li class="rightside">All times are <span title="UTC">UTC</span></li>
							<li class="rightside">
				<a href="ucp.php-2.html?mode=delete_cookies" data-ajax="true" data-refresh="true" role="menuitem">
					<i class="icon fa-trash fa-fw" aria-hidden="true"></i><span>Delete cookies</span>
				</a>
			</li>
																<li class="rightside" data-last-responsive="true">
				<a href="memberlist.php-11.html?mode=contactadmin" role="menuitem">
					<i class="icon fa-envelope fa-fw" aria-hidden="true"></i><span>Contact us</span>
				</a>
			</li>
			</ul>

	</div>
</div>

	<div class="copyright">
				<p class="footer-row">
			<span class="footer-copyright">Powered by <a href="https://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Limited</span>
		</p>
						<p class="footer-row" role="menu">
			<a class="footer-link" href="ucp.php-3.html?mode=privacy" title="Privacy" role="menuitem">
				<span class="footer-link-text">Privacy</span>
			</a>
			|
			<a class="footer-link" href="ucp.php-4.html?mode=terms" title="Terms" role="menuitem">
				<span class="footer-link-text">Terms</span>
			</a>
		</p>
					</div>

	<div id="darkenwrapper" class="darkenwrapper" data-ajax-error-title="AJAX error" data-ajax-error-text="Something went wrong when processing your request." data-ajax-error-text-abort="User aborted request." data-ajax-error-text-timeout="Your request timed out; please try again." data-ajax-error-text-parsererror="Something went wrong with the request and the server returned an invalid reply.">
		<div id="darken" class="darken">&nbsp;</div>
	</div>

	<div id="phpbb_alert" class="phpbb_alert" data-l-err="Error" data-l-timeout-processing-req="Request timed out.">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<h3 class="alert_title">&nbsp;</h3><p class="alert_text"></p>
	</div>
	<div id="phpbb_confirm" class="phpbb_alert">
		<a href="#" class="alert_close">
			<i class="icon fa-times-circle fa-fw" aria-hidden="true"></i>
		</a>
		<div class="alert_text"></div>
	</div>
</div>

</div>

<div>
	<a id="bottom" class="anchor" accesskey="z"></a>
	<img src="/cron/cron.task.core.tidy_cache" width="1" height="1" alt="cron"></div>

<script src="assets/javascript/jquery-3.4.1.min.js?assets_version=3"></script>
<script src="assets/javascript/core.js?assets_version=3"></script>


<script>
(function($) {  // Avoid conflicts with other libraries

'use strict';

	phpbb.addAjaxCallback('reporttosfs', function(data) {
		if (data.postid !== "undefined") {
			$('#sfs' + data.postid).hide();
			phpbb.closeDarkenWrapper(5000);
		}
	});

})(jQuery);
</script>
<script src="styles/prosilver/template/forum_fn.js?assets_version=3"></script>
<script src="styles/prosilver/template/ajax.js?assets_version=3"></script>



</body>
</html>
