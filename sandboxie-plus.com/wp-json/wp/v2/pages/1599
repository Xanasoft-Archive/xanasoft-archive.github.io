{"id":1599,"date":"2021-09-02T10:38:39","date_gmt":"2021-09-02T10:38:39","guid":{"rendered":"https:\/\/sandboxie-plus.com\/?page_id=1599"},"modified":"2023-08-15T09:13:28","modified_gmt":"2023-08-15T09:13:28","slug":"compartment-mode","status":"publish","type":"page","link":"https:\/\/sandboxie-plus.com\/compartment-mode\/","title":{"rendered":"App Compartment"},"content":{"rendered":"<h1>Compartment Mode<\/h1>\n<p><strong>NOTE: This feature requires a <a href=\"https:\/\/sandboxie-plus.com\/supporter-certificate\/\">supporter certificate<\/a>.<\/strong><\/p>\n<p>The concept of an &quot;Application Compartment&quot; mode was introduced in <strong>Sandboxie Plus v1.0.0<\/strong>. This mode disables the normally used token-based security isolation in order to significantly improve compatibility while still retaining a level of security comparable to that of other available sandboxing products. It avoids many of the typical Sandboxie issues caused by processes running with a heavily restricted token.<\/p>\n<p>The setting for a compartment box can be enabled by adding <code>NoSecurityIsolation=y<\/code> to the box settings section of <strong>Sandboxie.ini<\/strong>. It can also be enabled in the Sandman UI. Right-click on a box and select &quot;Sandbox Options&quot; from the drop-down menu (or simply double-click on a box) to bring up the Box Options UI. Select the Box Type Preset as &quot;Application Compartment (NO Isolation)&quot; (with a <strong>green<\/strong> box icon) and click OK to apply changes. The status column of Sandman UI labels this box as <strong>Application Compartment<\/strong>.<\/p>\n<p>![]()<\/p>\n<p>In compartment mode, file system and registry filtering are still in place to enforce any access rules. So, processes do run without administrative privileges. This filtering can be disabled by adding <code>NoSecurityFiltering=y<\/code> to the box settings section of <strong>Sandboxie.ini<\/strong> in order to provide a greater degree of compatibility.<\/p>\n<p>A new object access filter, enabled by default for new installations since <strong>Sandboxie Plus v1.0.16<\/strong>, replaces the Sandboxie's old process\/thread handle filter to facilitate process isolation. For previous versions starting with <strong>Sandboxie Plus v1.0.0<\/strong>, it can be enabled by adding <code>EnableObjectFiltering=y<\/code> to the [GlobalSettings] section of <strong>Sandboxie.ini<\/strong>.<\/p>\n<p><strong>Caveat:<\/strong> Even though an application compartment virtualizes the file system and registry, it does not change the process token or apply other more limiting restrictions. As a result, a process could potentially escape the virtualization. Because of this reduced security (even though it is only a slight reduction), this mode should be <strong>avoided for untrusted applications<\/strong>.<\/p>\n<p><strong>Recent Changes:<\/strong> Token based workarounds were added in subsequent Sandboxie Plus versions to facilitate even greater compatibility with the more commonly used programs. They used <code>DropAppContainerToken=y<\/code> for such workarounds and <code>FakeAppContainerToken=program.exe,n<\/code> to disable their use for a specific program. In <strong>Sandboxie Plus v1.8.2a<\/strong> and above, such workarounds are disabled when in compartment mode. In case of issues with some programs (primarily browsers), they can be re-enabled by using <code>DeprecatedTokenHacks=y<\/code>. <strong>Sandboxie Plus v1.8.0<\/strong> moved the built-in access rules for an application compartment box to a dedicated template (included in the file <strong>Templates.ini<\/strong> under the <code>[TemplateAppCPaths]<\/code> section) for easier management. <strong>Sandboxie Plus v1.10.1<\/strong> addressed and fixed various long-standing bugs affecting application compartment boxes.<\/p>\n<p><strong>Fun Fact (for any box type):<\/strong> If you add <code>OpenFilePath=*<\/code> to the box settings section of <strong>Sandboxie.ini<\/strong> (or disable the isolation in some other way), the status column in the Sandman UI displays <strong>OPEN Root Access<\/strong> as a warning that this box is no longer really a &quot;sandbox&quot;! Starting with <strong>Sandboxie Plus v1.3.2<\/strong>, the box icon also changes its default color.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Compartment Mode NOTE: This feature requires a supporter certificate. The concept of an &quot;Application Compartment&quot; mode was introduced in Sandboxie Plus v1.0.0. This mode disables the normally used token-based security isolation in order to significantly improve compatibility while still retaining a level of security comparable to that of other available sandboxing products. It avoids many &hellip; <a href=\"https:\/\/sandboxie-plus.com\/compartment-mode\/\" class=\"more-link\">Continue reading <span class=\"screen-reader-text\">App Compartment<\/span> <span class=\"meta-nav\">&rarr;<\/span><\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"","meta":{"footnotes":""},"_links":{"self":[{"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/pages\/1599"}],"collection":[{"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/comments?post=1599"}],"version-history":[{"count":2,"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/pages\/1599\/revisions"}],"predecessor-version":[{"id":2621,"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/pages\/1599\/revisions\/2621"}],"wp:attachment":[{"href":"https:\/\/sandboxie-plus.com\/wp-json\/wp\/v2\/media?parent=1599"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}